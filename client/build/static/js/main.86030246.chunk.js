(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{35:function(e,t){},45:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(34),s=a.n(i),c=(a(45),a(4)),o=a(2),l=a(17),d=a(3),m=a.n(d),p=a(6),u=a(7),g=a.n(u),h={accessToken:"spotify_access_token",refreshToken:"spotify_refresh_token",expireTime:"spotify_token_expire_time",timestamp:"spotify_token_timestamp"},b={accessToken:window.localStorage.getItem(h.accessToken),refreshToken:window.localStorage.getItem(h.refreshToken),expireTime:window.localStorage.getItem(h.expireTime),timestamp:window.localStorage.getItem(h.timestamp)},j=function(){for(var e in h)window.localStorage.removeItem(h[e]);window.location=window.location.origin},x=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(!b.refreshToken||"undefined"===b.refreshToken||Date.now()-Number(b.timestamp)/1e3<1e3)&&(console.error("No refresh token available"),j()),e.next=4,g.a.get("/refresh_token?refresh_token=".concat(b.refreshToken));case 4:t=e.sent,a=t.data,window.localStorage.setItem(h.accessToken,a.access_token),window.localStorage.setItem(h.timestamp,Date.now()),window.location.reload(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e,t=window.location.search,a=new URLSearchParams(t),n=(e={},Object(l.a)(e,h.accessToken,a.get("access_token")),Object(l.a)(e,h.refreshToken,a.get("refresh_token")),Object(l.a)(e,h.expireTime,a.get("expires_in")),e);if((a.get("error")||function(){var e=b.timestamp,t=b.expireTime;return!(!b.accessToken||!e)&&(Date.now()-Number(e))/1e3>Number(t)}()||"undefined"===b.accessToken)&&x(),b.accessToken&&"undefined"!==b.accessToken)return b.accessToken;if(n[h.accessToken]){for(var r in n)window.localStorage.setItem(r,n[r]);return window.localStorage.setItem(h.timestamp,Date.now()),n[h.accessToken]}return!1}();g.a.defaults.baseURL="https://api.spotify.com/v1",g.a.defaults.headers.Authorization="Bearer ".concat(f),g.a.defaults.headers["Content-type"]="application/json";var v,_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return g.a.get("/me/playlists?limit=".concat(e))},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"short_term";return g.a.get("/me/top/artists?time_range=".concat(e))},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"short_term";return g.a.get("/me/top/tracks?time_range=".concat(e))},y=function(e){return g.a.get("/audio-features?ids=".concat(e))},k=a(5),N=a(11),z=a(35),S=a.n(z),T=Object(o.b)([":root{--black:#121212;--near-black:#181818;--dark-grey:#282828;--grey:#535353;--light-grey:#b3b3b3;--white:#ffffff;--green:#1DB954;--font:'Circular Std',-apple-system,BlinkMacSystemFont,system-ui,sans-serif;--fz-xxs:12px;--fz-xs:13px;--fz-sm:14px;--fz-md:16px;--fz-lg:18px;--fz-xl:20px;--fz-xxl:24px;--spacing-xxs:4px;--spacing-xs:8px;--spacing-sm:12px;--spacing-md:16px;--spacing-lg:24px;--spacing-xl:32px;--spacing-xxl:64px;--border-radius-subtle:4px;--border-radius-pill:30px;--site-max-width:1300px;}"]),C=Object(o.a)(["",";",";html{box-sizing:border-box;}*,*:before,*:after{box-sizing:inherit;}body{margin:0;padding:0;width:100%;max-width:100%;min-height:100%;overflow-x:hidden;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;background-color:var(--black);color:var(--white);font-family:var(--font);font-size:var(--fz-md);}h1,h2,h3,h4,h5,h6{letter-spacing:-.04em;margin:0 0 10px;}p{margin:0 0 10px;}a,button{transition:all 0.3s ease;color:inherit;}a{text-decoration:none;&:hover,&:focus{background-color:var(--dark-grey);text-decoration:underline;}}button{border:0;cursor:pointer;font-family:inherit;border-radius:var(--border-radius-pill);background-color:rgba(0,0,0,.7);color:var(--white);font-size:var(--fz-sm);font-weight:700;padding:var(--spacing-xs) var(--spacing-sm);&:hover,&:focus{background-color:var(--dark-grey);outline:0;}}img{width:100%;max-width:100%;vertical-align:middle;}main{position:relative;padding:var(--spacing-xxl) 0;}.app{min-height:100vh;}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;}.overflow-ellipsis{-webkit-line-clamp:1;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden;text-overflow:ellipsis;white-space:unset;word-break:break-all;}.empty-notice{color:var(--grey);font-size:var(--fz-lg);text-align:center;padding:var(--spacing-xxl);}"],S.a,T),I=o.c.header.withConfig({displayName:"StyledHeader",componentId:"sc-1lkbm9m-0"})(["display:flex;align-items:flex-end;position:relative;background:linear-gradient(transparent,rgba(0,0,0,0.5));background-color:var(--grey);height:30vh;max-height:500px;min-height:250px;@media (min-width:768px){min-height:340px;}&:after{content:'';display:block;width:100%;height:20vh;background-color:var(--grey);background-image:linear-gradient(rgba(0,0,0,0.6),var(--black));position:absolute;top:100%;z-index:-1;}.header__inner{display:flex;align-items:flex-end;width:100%;max-width:var(--site-max-width);margin:0 auto;padding:var(--spacing-lg) var(--spacing-md);@media (min-width:768px){padding:var(--spacing-xl) var(--spacing-xxl);}}img.header__img{width:20%;max-width:250px;min-width:120px;margin-right:var(--spacing-lg);box-shadow:0 4px 60px rgb(0 0 0 / 50%);background-color:var(--dark-grey);border-radius:",";@media (min-width:768px){margin-right:var(--spacing-xl);}}.header__overline{text-transform:uppercase;font-size:var(--fz-xxs);font-weight:700;margin-bottom:var(--spacing-xs);}h1.header__name{font-size:clamp(2.5rem,10vw,6rem);font-weight:900;line-height:1;margin:0 0 var(--spacing-xs) 0;@media (min-width:768px){margin:0 0 var(--spacing-xs) -5px;}}.header__meta{display:flex;align-items:center;font-size:var(--fz-sm);color:var(--light-grey);margin:0;span{display:flex;align-items:center;&:not(:last-of-type)::after{content:'*';display:block;margin:0 var(--spacing-xs);color:var(--light-grey);font-size:8px;}}}"],(function(e){return"user"===e.type?"50%":"0"})),L=o.c.section.withConfig({displayName:"StyledSection",componentId:"sc-xf14in-0"})(["&:first-of-type{.section__inner{padding-top:0;}}.section__inner{width:100%;max-width:var(--site-max-width);margin:0 auto;position:relative;padding:var(--spacing-lg) var(--spacing-md);@media (min-width:768px){padding:var(--spacing-xl) var(--spacing-xxl);}}.section__top{display:flex;justify-content:space-between;align-items:stretch;margin-bottom:var(--spacing-xl);}.section__heading{display:flex;margin:0;font-size:var(--fz-xxl);}.section__breadcrumb{display:flex;color:var(--light-grey);&::after{content:'/';display:block;margin:0 var(--spacing-sm);}a{&:hover,&:focus{color:var(--white);}}}.section__see-all{display:flex;align-items:flex-end;text-transform:uppercase;color:var(--light-grey);font-size:var(--fz-xxs);font-weight:700;letter-spacing:0.1em;padding-bottom:2px;}"]),A=o.c.ul.withConfig({displayName:"StyledGrid",componentId:"sc-1wfq13a-0"})(["list-style:none;margin:0;padding:0;display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));grid-gap:var(--spacing-sm);@media (min-width:768px){grid-template-columns:repeat(auto-fill,minmax(180px,1fr));grid-gap:var(--spacing-lg);}.grid__item{background-color:var(--near-black);border-radius:var(--border-radius-subtle);transition:background-color 0.3s ease;cursor:default;&:hover,&:focus{background-color:var(--dark-grey);img{box-shadow:0 8px 24px rgb(0 0 0 / 50%);}}a{display:block;width:100%;height:100%;&:hover,&:focus{text-decoration:none;}}}.grid__item__inner{padding:var(--spacing-sm);@media (min-width:768px){padding:var(--spacing-md);}}.grid__item__img{position:relative;padding-top:100%;margin:0 auto var(--spacing-lg);img{position:absolute;top:0;width:100%;height:100%;object-fit:cover;background-color:var(--dark-grey);border-radius:",";}}.grid__item__name{margin:0 0 var(--spacing-xxs);font-size:var(--fz-md);letter-spacing:normal;}.grid__item__label{font-size:var(--fz-sm);color:var(--light-grey);}"],(function(e){return"artist"===e.type?"50%":"2px"})),F=o.c.ul.withConfig({displayName:"StyledTrackList",componentId:"sc-1lpsyrs-0"})(["list-style:none;margin:0;padding:0;.track__item{display:grid;align-items:center;grid-template-columns:20px 1fr;grid-gap:var(--spacing-md);padding:var(--spacing-xs);color:var(--light-grey);font-size:var(--fz-sm);border-radius:var(--border-radius-subtle);transition:background-color 0.3s ease;cursor:default;@media (min-width:768px){grid-template-columns:20px 4fr 2fr minmax(60px,1fr);padding:var(--spacing-xs) var(--spacing-sm);}&:hover,&:focus{background-color:var(--dark-grey);}}.track__item__num{display:flex;align-items:center;justify-content:flex-end;font-size:var(--fz-md);font-variant-numeric:tabular-nums;overflow:visible;}.track__item__title-group{display:flex;align-items:center;}.track__item__img{margin-right:var(--spacing-sm);width:40px;height:40px;flex-shrink:0;background-color:var(--dark-grey);}.track__item__name{color:var(--white);font-size:var(--fz-md);}.track__item__album{display:none;@media (min-width:768px){display:block;white-space:nowrap;}}.track__item__duration{display:none;@media (min-width:768px){display:flex;justify-content:flex-end;font-variant-numeric:tabular-nums;}}"]),P=o.c.ul.withConfig({displayName:"StyledRangedButtons__StyledRangeButtons",componentId:"sc-1kchn66-0"})(["display:flex;list-style:none;margin:0 0 var(--spacing-lg) 0;padding:0;@media (min-width:768px){position:absolute;top:0;right:var(--spacing-xxl);margin-bottom:0;}li{margin-right:var(--spacing-xs);@media (min-width:768px){margin-left:var(--spacing-xs);margin-right:0;}}button{background-color:var(--dark-grey);&:hover,&:focus{background-color:var(--grey);}&.active{background-color:var(--green);}}"]),B=o.c.div.withConfig({displayName:"StyledDropdown",componentId:"sc-osz4hy-0"})(["position:absolute;top:0;right:var(--spacing-md);z-index:1;@media (min-width:768px){right:var(--spacing-xxl);}&:after{content:'';top:15px;right:var(--spacing-sm);position:absolute;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:6px solid var(--white);}select{-webkit-appearance:none;appearance:none;background-color:",";color:white;border:0;border-radius:var(--border-radius-subtle);font-size:var(--fz-sm);font-family:inherit;padding:var(--spacing-xs) var(--spacing-xl) var(--spacing-xs) var(--spacing-sm);}option{background-color:black;}"],(function(e){return e.active?"rgba(255,255,255,0.1)":"transparent"})),E=a(0),R=o.c.main.withConfig({displayName:"Login__StyledLoginContainer",componentId:"sc-8hwqvt-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh;"]),M=o.c.a.withConfig({displayName:"Login__StyledLoginButton",componentId:"sc-8hwqvt-1"})(["display:inline-block;background-color:var(--green);color:var(--white);border-radius:var(--border-radius-pill);font-weight:700;font-size:var(--fz-lg);padding:var(--spacing-sm) var(--spacing-xl);&:hover,&:focus{text-decoration:none;filter:brightness(1.1);}"]),D=function(){return Object(E.jsx)(R,{children:Object(E.jsx)(M,{href:"https://lewis-app.herokuapp.com/login",children:"Log in to Spotify"})})},q=function(e){return function(){return e.apply(void 0,arguments).catch((function(e){console.error(e)}))}},U=function(e){var t=Math.floor(e/6e4),a=Math.floor(e%6e4/1e3);return"".concat(t,":").concat(a<10?"0":"").concat(a)},J=function(e){var t=e.artists;return Object(E.jsx)(E.Fragment,{children:t&&t.length?Object(E.jsx)(A,{type:"artist",children:t.map((function(e,t){return Object(E.jsx)("li",{className:"grid__item",children:Object(E.jsxs)("div",{className:"grid__item__inner",children:[e.images[0]&&Object(E.jsx)("div",{className:"grid__item__img",children:Object(E.jsx)("img",{src:e.images[0].url,alt:e.name})}),Object(E.jsx)("h3",{className:"grid__item__name overflow-ellipsis",children:e.name}),Object(E.jsx)("p",{className:"grid__item__label",children:"Artist"})]})},t)}))}):Object(E.jsx)("p",{className:"empty-notice",children:"No artists available"})})},G=function(e){var t=e.children,a=e.title,n=e.seeAllLink,r=e.breadcrumb;return Object(E.jsx)(L,{children:Object(E.jsxs)("div",{className:"section__inner",children:[Object(E.jsxs)("div",{className:"section__top",children:[Object(E.jsxs)("h2",{className:"section__heading",children:[r&&Object(E.jsx)("span",{className:"section__breadcrumb",children:Object(E.jsx)(N.b,{to:"/",children:"Profile"})}),a&&Object(E.jsx)(E.Fragment,{children:n?Object(E.jsx)(N.b,{to:n,children:a}):Object(E.jsx)("span",{children:a})})]}),n&&Object(E.jsx)(N.b,{to:n,className:"section__see-all",children:"See All"})]}),t]})})},H=function(e){var t=e.tracks;return Object(E.jsx)(E.Fragment,{children:t&&t.length?Object(E.jsx)(F,{children:t.map((function(e,t){return Object(E.jsxs)("li",{className:"track__item",children:[Object(E.jsx)("div",{className:"track__item__num",children:t+1}),Object(E.jsxs)("div",{className:"track__item__title-group",children:[e.album.images.length&&e.album.images[2]&&Object(E.jsx)("div",{className:"track__item__img",children:Object(E.jsx)("img",{src:e.album.images[2].url,alt:e.name})}),Object(E.jsxs)("div",{className:"track__item__name-artist",children:[Object(E.jsx)("div",{className:"track__item__name overflow-ellipsis",children:e.name}),Object(E.jsx)("div",{className:"track__item__artist overflow-ellipsis",children:e.artists.map((function(t,a){return Object(E.jsxs)("span",{children:[t.name,a!==e.artists.length-1&&", "]},a)}))})]})]}),Object(E.jsx)("div",{className:"track__item__album overflow-ellipsis",children:e.album.name}),Object(E.jsx)("div",{className:"track__item__duration",children:U(e.duration_ms)})]},t)}))}):Object(E.jsx)("p",{className:"empty-notice",children:"No tracks available"})})},K=function(e){var t=e.playlists;return Object(E.jsx)(E.Fragment,{children:t&&t.length?Object(E.jsx)(A,{children:t.map((function(e,t){return Object(E.jsx)("li",{className:"grid__item",children:Object(E.jsxs)(N.b,{className:"grid__item__inner",to:"/playlists/".concat(e.id),children:[e.images.length&&e.images[0]&&Object(E.jsx)("div",{className:"grid__item__img",children:Object(E.jsx)("img",{src:e.images[0].url,alt:e.name})}),Object(E.jsx)("h3",{className:"grid__item__name overflow-ellipsis",children:e.name}),Object(E.jsx)("p",{className:"grid__item__label",children:"Playlist"})]})},t)}))}):Object(E.jsx)("p",{className:"empty-notice",children:"No playlists available"})})},Q=function(e){var t=e.activeRange,a=e.setActiveRange;return Object(E.jsxs)(P,{children:[Object(E.jsx)("li",{children:Object(E.jsx)("button",{className:"short"===t?"active":"",onClick:function(){return a("short")},children:"This Month"})}),Object(E.jsx)("li",{children:Object(E.jsx)("button",{className:"medium"===t?"active":"",onClick:function(){return a("medium")},children:"Last 6 Months"})}),Object(E.jsx)("li",{children:Object(E.jsx)("button",{className:"long"===t?"active":"",onClick:function(){return a("long")},children:"All Time"})})]})},V=a(40),W=Object(o.d)(v||(v=Object(V.a)(["\n  from {\n    height: 10px;\n  }\n  to {\n    height: 100%;\n  }\n"]))),X=o.c.div.withConfig({displayName:"Loader__StyledLoader",componentId:"sc-1op2stc-0"})(["display:flex;align-items:center;justify-content:center;width:100%;min-height:50vh;.bars{display:flex;justify-content:center;align-items:flex-end;overflow:hidden;width:100px;min-width:100px;height:50px;margin:0 auto;z-index:2;position:relative;left:0;right:0;}"]),Y=o.c.div.withConfig({displayName:"Loader__StyledBar",componentId:"sc-1op2stc-1"})(["width:10px;height:5px;margin:0 2px;background-color:var(--dark-grey);animation-name:",";animation-duration:400ms;animation-play-state:running;animation-direction:alternate;animation-timing-function:linear;animation-iteration-count:infinite;animation-delay:",";"],W,(function(e){return e.delay||"0ms"})),Z=function(){return Object(E.jsx)(X,{children:Object(E.jsxs)("div",{className:"bars",children:[Object(E.jsx)(Y,{delay:"250ms"}),Object(E.jsx)(Y,{delay:"715ms"}),Object(E.jsx)(Y,{delay:"475ms"}),Object(E.jsx)(Y,{delay:"25ms"}),Object(E.jsx)(Y,{delay:"190ms"})]})})},$=function(){var e=Object(n.useState)(null),t=Object(c.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(null),s=Object(c.a)(i,2),o=s[0],l=s[1],d=Object(n.useState)(null),u=Object(c.a)(d,2),h=u[0],b=u[1],j=Object(n.useState)(null),x=Object(c.a)(j,2),f=x[0],v=x[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a,n,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/me");case 2:return t=e.sent,r(t.data),e.next=6,_();case 6:return a=e.sent,l(a.data),e.next=10,O();case 10:return n=e.sent,b(n.data),e.next=14,w();case 14:i=e.sent,v(i.data);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();q(e())}),[]),console.log(f),Object(E.jsxs)(E.Fragment,{children:[a&&Object(E.jsx)(I,{type:"user",children:Object(E.jsxs)("div",{className:"header__inner",children:[a.images.length&&a.images[0].url&&Object(E.jsx)("img",{className:"header__img",src:a.images[0].url,alt:"Avatar"}),Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"header__overline",children:"Profile"}),Object(E.jsx)("h1",{className:"header__name",children:a.display_name}),Object(E.jsxs)("p",{className:"header__meta",children:[o&&Object(E.jsxs)("span",{children:[o.total," Playlist",1!==o.total?"s":""]}),Object(E.jsxs)("span",{children:[a.followers.total," Follower",1!==a.followers.total?"s":""]})]})]})]})}),Object(E.jsx)("main",{children:h&&f&&o?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(G,{title:"Top artists this month",seeAllLink:"/top-artists",children:Object(E.jsx)(J,{artists:h.items.slice(0,10)})}),Object(E.jsx)(G,{title:"Top tracks this month",seeAllLink:"/top-tracks",children:Object(E.jsx)(H,{tracks:f.items.slice(0,10)})}),Object(E.jsx)(G,{title:"Playlists",seeAllLink:"/playlists",children:Object(E.jsx)(K,{playlists:o.items.slice(0,10)})})]}):Object(E.jsx)(Z,{})})]})},ee=function(){var e=Object(n.useState)(null),t=Object(c.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)("short"),s=Object(c.a)(i,2),o=s[0],l=s[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("".concat(o,"_term"));case 2:t=e.sent,a=t.data,r(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();q(e())}),[o]),Object(E.jsx)("main",{children:Object(E.jsxs)(G,{title:"Top Artists",breadcrumb:!0,children:[Object(E.jsx)(Q,{activeRange:o,setActiveRange:l}),a&&a.items?Object(E.jsx)(J,{artists:a.items}):Object(E.jsx)(Z,{})]})})},te=function(){var e=Object(n.useState)(null),t=Object(c.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)("short"),s=Object(c.a)(i,2),o=s[0],l=s[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("".concat(o,"_term"));case 2:t=e.sent,a=t.data,r(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();q(e())}),[o]),Object(E.jsx)("main",{children:Object(E.jsxs)(G,{title:"Top Tracks",breadcrumb:!0,children:[Object(E.jsx)(Q,{activeRange:o,setActiveRange:l}),a&&a.items?Object(E.jsx)(H,{tracks:a.items}):Object(E.jsx)(Z,{})]})})},ae=a(12),ne=function(){var e=Object(n.useState)(null),t=Object(c.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(null),s=Object(c.a)(i,2),o=s[0],l=s[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:t=e.sent,a=t.data,r(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();q(e())}),[]),Object(n.useEffect)((function(){if(a){var e=function(){var e=Object(p.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.next){e.next=6;break}return e.next=3,g.a.get(a.next);case 3:t=e.sent,n=t.data,r(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();l((function(e){return[].concat(Object(ae.a)(e||[]),Object(ae.a)(a.items))})),q(e())}}),[a]),Object(E.jsx)("main",{children:Object(E.jsx)(G,{title:"Public Playlists",breadcrumb:!0,children:o?Object(E.jsx)(K,{playlists:o}):Object(E.jsx)(Z,{})})})},re=function(){var e=Object(k.g)().id,t=Object(n.useState)(null),a=Object(c.a)(t,2),r=a[0],i=a[1],s=Object(n.useState)(null),o=Object(c.a)(s,2),l=o[0],d=o[1],u=Object(n.useState)(null),h=Object(c.a)(u,2),b=h[0],j=h[1],x=Object(n.useState)(null),f=Object(c.a)(x,2),v=f[0],_=f[1],O=Object(n.useState)(""),w=Object(c.a)(O,2),N=w[0],z=w[1];Object(n.useEffect)((function(){var t=function(){var t=Object(p.a)(m.a.mark((function t(){var a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r=e,g.a.get("/playlists/".concat(r));case 2:a=t.sent,n=a.data,i(n),d(n.tracks);case 6:case"end":return t.stop()}var r}),t)})));return function(){return t.apply(this,arguments)}}();q(t())}),[e]),Object(n.useEffect)((function(){if(l){var e=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.next){e.next=6;break}return e.next=3,g.a.get(l.next);case 3:t=e.sent,a=t.data,d(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();j((function(e){return[].concat(Object(ae.a)(e||[]),Object(ae.a)(l.items))})),q(e());var t=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.items.map((function(e){return e.track.id})).join(","),e.next=3,y(t);case 3:a=e.sent,n=a.data,_((function(e){return[].concat(Object(ae.a)(e||[]),Object(ae.a)(n.audio_features))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();q(t())}}),[l]);var S=Object(n.useMemo)((function(){return b&&v?b.map((function(e){var t=e.track,a=t;if(!t.audio_features){var n=v.find((function(e){return e&&t?e.id===t.id:null}));a.audio_features=n}return a})):null}),[b,v]),T=Object(n.useMemo)((function(){return S?Object(ae.a)(S).sort((function(e,t){var a=e.audio_features,n=t.audio_features;return!(!a||!n)&&n[N]-a[N]})):null}),[N,S]);return Object(E.jsx)(E.Fragment,{children:r&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(I,{children:Object(E.jsxs)("div",{className:"header__inner",children:[r.images.length&&r.images[0].url&&Object(E.jsx)("img",{className:"header__img",src:r.images[0].url,alt:"Playlist Artwork"}),Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"header__overline",children:"Playlist"}),Object(E.jsx)("h1",{className:"header__name",children:r.name}),Object(E.jsxs)("p",{className:"header__meta",children:[r.followers.total?Object(E.jsxs)("span",{children:[r.followers.total," ","follower".concat(1!==r.followers.total?"s":"")]}):null,Object(E.jsxs)("span",{children:[r.tracks.total," ","song".concat(1!==r.tracks.total?"s":"")]})]})]})]})}),Object(E.jsx)("main",{children:Object(E.jsxs)(G,{title:"Playlist",breadcrumb:!0,children:[Object(E.jsxs)(B,{active:!!N,children:[Object(E.jsx)("label",{className:"sr-only",htmlFor:"order-select",children:"Sort tracks"}),Object(E.jsxs)("select",{name:"track-order",id:"order-select",onChange:function(e){return z(e.target.value)},children:[Object(E.jsx)("option",{value:"",children:"Sort tracks"}),["danceability","tempo","energy"].map((function(e,t){return Object(E.jsx)("option",{value:e,children:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))},t)}))]})]}),T?Object(E.jsx)(H,{tracks:T}):Object(E.jsx)(Z,{})]})})]})})},ie=o.c.button.withConfig({displayName:"App__StyledLogoutButton",componentId:"sc-1tc4o2e-0"})(["position:absolute;top:var(--spacing-sm);right:var(--spacing-md);padding:var(--spacing-xs) var(--spacing-sm);background-color:rgba(0,0,0,.7);color:var(--white);font-size:var(--fz-sm);font-weight:700;border-radius:var(--border-radius-pill);z-index:10;@media (min-width:768px){right:var(--spacing-lg);}"]);function se(){var e=Object(k.f)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var ce=function(){var e=Object(n.useState)(null),t=Object(c.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){r(f)}),[]),Object(E.jsxs)("div",{className:"App",children:[Object(E.jsx)(C,{}),Object(E.jsx)("header",{className:"App-header",children:a?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ie,{onClick:j,children:"Log Out"}),Object(E.jsxs)(N.a,{children:[Object(E.jsx)(se,{}),Object(E.jsxs)(k.c,{children:[Object(E.jsx)(k.a,{path:"/top-artists",children:Object(E.jsx)(ee,{})}),Object(E.jsx)(k.a,{path:"/top-tracks",children:Object(E.jsx)(te,{})}),Object(E.jsx)(k.a,{path:"/playlists/:id",children:Object(E.jsx)(re,{})}),Object(E.jsx)(k.a,{path:"/playlists",children:Object(E.jsx)(ne,{})}),Object(E.jsx)(k.a,{path:"/",children:Object(E.jsx)($,{})})]})]})]}):Object(E.jsx)(D,{})})]})},oe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,76)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),i(e),s(e)}))};s.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(ce,{})}),document.getElementById("root")),oe()}},[[75,1,2]]]);
//# sourceMappingURL=main.86030246.chunk.js.map